<!DOCTYPE html>
<html lang="fr" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta charset="UTF-8" />
	<title>Charger un cas</title>
</h:head>
<h:body>
	<h:form enctype="multipart/form-data">
		<p:growl id="msgs"  showDetail="true" />
		<p:dialog modal="true" widgetVar="statusDialog" header="Status"
		 draggable="false" closable="false" resizable="false" />
		 
	<p:layout style="margin-left:120px; margin-right:120px;" >
    <p:layoutUnit position="center" >
    
    <p:wizard flowListener="#{InsertCaseBean.onFlowProcess}">
    
        <p:tab id="Etape1" title="Etape1">
            <p:panel header="Etape 1">
                <p:messages />
                <h:panelGrid columns="2" columnClasses="label, value">
                
              		<p:outputLabel for="titre">Titre du projet : </p:outputLabel><br/>
		<p:inputText id="titre" value="#{InsertCaseBean.cas.titre}" maxlength="70" size="60" 
		   placeholder="Ex:Famille sans abri à Fqih Ben Saleh" />
		<br/>
		<br />
		<p:outputLabel for="slogan">Slogan : </p:outputLabel><br/>
		<p:inputText id="slogan" value="#{InsertCaseBean.cas.slogan}"  
		   placeholder="Ex:Nous pouvons ensemble changer la vie des malades !" size="60"/>
		<br />
		<br />
			<p:outputLabel for="ville">Ville : </p:outputLabel><br/>
		<p:autoComplete id="ville" dropdown="true" value="#{InsertCaseBean.cas.ville}" completeMethod="#{InsertCaseBean.completeVille}" >
 		</p:autoComplete>
 		<br />
		<br />
		<p:outputLabel for="description">Déscription : </p:outputLabel><br/>
		<br />
		<p:inputTextarea rows="4" cols="40" value="#{InsertCaseBean.cas.description}"
	        id="description" queryDelay="750" minQueryLength="4" maxlength="200" />
		<br />
		
		
                </h:panelGrid>
            </p:panel>
        </p:tab>
        
        
        
		<p:tab id="Etape2" title="Etape2">
            <p:panel header="Etape 2">
                <p:messages />
                <h:panelGrid columns="2" columnClasses="label, value">
                   
                   <p:outputLabel for="categorie" value="Catégorie :" /><br/>
		<p:selectOneMenu id="categorie"
			value="#{InsertCaseBean.cas.categorie}" style="width:125px"	lazy="true">
			<f:selectItem itemLabel="Artisanat" itemValue="artisanat" />
			<f:selectItem itemLabel="Collectivités territoriales" itemValue="col territo" />
			<f:selectItem itemLabel="Education" itemValue="education" />
			<f:selectItem itemLabel="Agriculture" itemValue="agriculture" />
			<f:selectItem itemLabel="enfants démuni" itemValue="enf dem" />
			<f:selectItem itemLabel="Santé" itemValue="santé" />
			<f:selectItem itemLabel="Médicament" itemValue="médicament" />
			<f:selectItem itemLabel="enfants handicapés" itemValue="enf hand" />
		</p:selectOneMenu>

		<br />
		<br />
		<p:outputLabel for="autre">Autre Catégorie : </p:outputLabel><br/>
		<p:inputText id="autre" value="#{InsertCaseBean.cas.autreCategorie}" />
		<br />
		<br />
		<p:outputLabel for="duree">Durée : </p:outputLabel><br/>
		<p:spinner id="duree" value="#{InsertCaseBean.cas.duree}" min="0" max="100" />
		<br />
		<br />
		<p:outputLabel for="cout">Coût : </p:outputLabel><br/>
		<p:spinner id="cout" value="#{InsertCaseBean.cas.cout}" suffix=" DH "
			min="100" stepFactor="100" />
		<br />
		<br />
		<p:outputLabel for="numCompteBank">Numéro du compte banquaire : </p:outputLabel><br/>
		<p:inputText id="numCompteBank"
			value="#{InsertCaseBean.cas.numCompteBank}" />
			<br />
		<br />
			
		<h:outputLabel>Ajouter une image :  </h:outputLabel>
		<p:fileUpload  fileUploadListener="#{InsertCaseBean.uploadFileI}" mode="advanced" dragDropSupport="false"
         multiple="true" update="messages" sizeLimit="4000000" fileLimit="1" allowTypes="/(\.|\/)(jpg|jpeg|png)$/" />
    	<p:growl id="messages" showDetail="true" />
		<br /><br />
			
  			</h:panelGrid>
           </p:panel>
    	</p:tab>
        
        
        
		<p:tab id="Etape3" title="Etape3">
            <p:panel header="Etape 3">
                <p:messages />
                <h:panelGrid columns="2" columnClasses="label, fileUploadListener">
                
        <p:outputLabel>Ajouter une video (optionnel) :  </p:outputLabel>
        <p:fileUpload  fileUploadListener="#{InsertCaseBean.uploadFileV}" mode="advanced" dragDropSupport="false"
         multiple="true" update="messages" sizeLimit="4000000" fileLimit="1" allowTypes="/(\.|\/)(mp4|mpeg)$/" />
    	<p:growl id="messagesV" showDetail="true" />
				<br /><br /><br />
		
		<p:outputLabel>(1) Ajouter un document* :  </p:outputLabel>
		  <p:fileUpload  fileUploadListener="#{InsertCaseBean.uploadFile1}" mode="advanced" dragDropSupport="false"
         multiple="true" update="messages" sizeLimit="4000000" fileLimit="1" allowTypes="/(\.|\/)(pdf|docx)$/" />
    	<p:growl id="messages1"  showDetail="true" />
		<br /><br /><br />
		
		<p:outputLabel>(2) Ajouter un document (optionnel) :  </p:outputLabel>
		  <p:fileUpload  fileUploadListener="#{InsertCaseBean.uploadFile2}" mode="advanced" dragDropSupport="false"
         multiple="true" update="messages" sizeLimit="4000000" fileLimit="1" allowTypes="/(\.|\/)(pdf|docx)$/" />
    	<p:growl id="messages2" showDetail="true" />
		<br /><br /><br />
		
		<p:outputLabel>(3) Ajouter un document (optionnel) :  </p:outputLabel>
		  <p:fileUpload  fileUploadListener="#{InsertCaseBean.uploadFile3}" mode="advanced" dragDropSupport="false"
         multiple="true" update="messages" sizeLimit="4000000" fileLimit="1" allowTypes="/(\.|\/)(pdf|docx)$/" />
    	<p:growl id="messages3" showDetail="true" />
		<br /><br />
		
                </h:panelGrid>
                <p:commandButton value="Ajouter Cas" process="@this"
			action="#{InsertCaseBean.insertCase}" icon="ui-icon-check" style="margin-left:430px; color:red;"/>
            </p:panel>
        </p:tab>
         
			 </p:wizard>
			 	
   			</p:layoutUnit>
			</p:layout>
	</h:form>

</h:body>
</html>

