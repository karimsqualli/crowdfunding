<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title>3awni</title>
	<link rel="shortcut icon" href="imgs/logos/logo6.png" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="css/elements.css" />
	<link rel="stylesheet" href="css/styleT.css" />
	<link rel="stylesheet" href="css/responsive.css" />
	<link href="css/components.css" id="style_components" rel="stylesheet"
		type="text/css" />
	<!-- affichage horizontale -->
	<link href="css/default.css" rel="stylesheet" id="style_theme"
		type="text/css" />
	<!-- button -->
	<script src="js/vendor/modernizr-2.8.3.min.js"></script>
</h:head>

<h:body>
	<ui:insert name="header">
		<ui:include src="headerAdmin.xhtml" />
	</ui:insert>

	<!-- Table start -->

	<section class="content">
		<!-- Donet section start -->
		<div class="donet-section theme-section theme-section-ex-padding">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<div class="area-heading text-center">
							<h3 class="area-title">Les associations en attente de validation</h3>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">

							<article class="single-event">
								<h:form id="upd">
									<p:dataTable var="association" id="aa"
										value="#{AssociationBean.associations}" stickyHeader="true">
										<p:column headerText="Titre de l'association">
											<p:commandLink value="#{association.name}" update=":upd:apd"
											 onclick="PF('dlg2').show()" >
												<f:setPropertyActionListener value="#{association}"
													target="#{AssociationBean.association}" />
											</p:commandLink>
										</p:column>
										<p:column headerText="Date d'ajout">
											<h:outputText value="#{association.addedDate}" />

										</p:column>
										<p:column>
											<p:commandButton value="valider"
												actionListener="#{AssociationBean.validateAssociation(association)}"
												update="aa"></p:commandButton>
											<p:commandButton value="refuser"
												actionListener="#{AssociationBean.deleteAccount(association.id)}"
												update="aa"></p:commandButton>
										</p:column>

									</p:dataTable>
									
									<p:dialog  header="Détail de l'association" widgetVar="dlg2" resizable="false" draggable="true"
								                showEffect="fade" hideEffect="fade" modal="true">
								        <p:outputPanel id="apd" style="text-align:center">
								          <p:panelGrid columns="2" cellpadding="4" >
													<h:outputText value="Id" />
													<h:outputText value="#{AssociationBean.association.id}" />
													
													<h:outputText value="Name" />
													<h:outputText value="#{AssociationBean.association.name}" />
													
													<h:outputText value="Pattente" />
													<h:outputText value="#{AssociationBean.association.pattente}" />
													
													<h:outputText value="Activité" />
													<h:outputText value="#{AssociationBean.association.activityArea}" />
													
													<h:outputText value="Forme juridique" />
													<h:outputText value="#{AssociationBean.association.legalForm}" />
													
													<h:outputText value="Gsm" />
													<h:outputText value="#{AssociationBean.association.gsm}" />
													
													<h:outputText value="Fixe" />
													<h:outputText value="#{AssociationBean.association.fixe}" />
													
													<h:outputText value="Date d'ajout" />
													<h:outputText value="#{AssociationBean.association.addedDate}" />
													</p:panelGrid>
											</p:outputPanel>
										</p:dialog>
								</h:form>
							</article>
					</div>
				</div>
			</div>
		</div>

	


	</section>
	<!-- Table end -->

	<!-- Footer section start -->
	<ui:insert name="footer">
		<ui:include src="footer.xhtml" />
	</ui:insert>
	<!-- Footer section end -->

</h:body>
</html>