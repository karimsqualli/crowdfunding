<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title>3awni</title>
	<link rel="shortcut icon" href="imgs/logos/logo6.png" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="css/elements.css" />
	<link rel="stylesheet" href="css/styleT.css" />
	<link rel="stylesheet" href="css/responsive.css" />
	<link href="css/components.css" id="style_components" rel="stylesheet"
		type="text/css" />
	<!-- affichage horizontale -->
	<link href="css/default.css" rel="stylesheet" id="style_theme"
		type="text/css" />
	<!-- button -->
	<script src="js/vendor/modernizr-2.8.3.min.js"></script>
</h:head>

<body>

	<!-- theme preloader area start -->
	<div id="humanity-preloader-wrapper">
		<div class="preloader-wave-effect"></div>
	</div>
	<!-- theme preloader area end -->
	<!-- Main wrapper start -->
	<div class="wrapper">
		<!-- Header area start -->
		<header class="header-area header-style-2" id="sticky-header">
			<div id="sticky-header"
				class="main-header-area transparent-header color">
				<div class="container">
					<div class="row">
						<div class="col-md-2 col-sm-6 col-xs-6">
							<div class="logo-wrapper" >
								<a class="logo" href="index.xhtml" ><img style="margin-top:-20px;height:40px;width:160px; " src="imgs/logos/logo5.png" ></img></a>
							</div>
						</div>
						<div class="col-md-7 hidden-xs hidden-sm">
							<div class="menu-area">
								<nav class="template-menu">
									<ul class="main-menu">
										<li><a href="projects.xhtml">Voir les cas</a></li>
										<li><a href="LoadCase.xhtml">Proposer un cas</a></li>
										<li><a href="associations.xhtml">Associations</a></li>
										<li><a href="commentCaMarche.xhtml">Comment ça marche</a></li>
									</ul>
								</nav>
							</div>
						</div>
						<!-- Mobile menu area start -->
						<div class="mobile-menu-area clearfix hidden-md">
							<nav class="mobile-menu">
								<ul class="mobile-menu-nav">
									<li><a href="projects.xhtml">Voir les cas</a></li>
									<li><a href="LoadCase.xhtml">Proposer un cas</a></li>
									<li><a href="associations.xhtml">Associations</a></li>
									<li><a href="commentCaMarche.xhtml">Comment ça marche</a></li>
								</ul>
							</nav>
						</div>
						<!-- Mobile menu area end -->

						<div class="col-md-3 hidden-sm hidden-xs">
							<div class="header-btn">
								<ul class="header-action">
									<li>
									<h:form>
									<p:commandLink rendered="#{!DonorBean.connected}" name ="connexion" id="connexion">
										<a href="javascript:;" data-toggle="modal" data-target="#login-form" class="btn btn-default" >Connexion</a>
									</p:commandLink>
									<p:commandLink rendered="#{DonorBean.connected}"	action="#{DonorBean.logout()}" styleClass="btn btn-default"
										value="Deconnexion" id="deconnexion"/>
									</h:form>
									</li>
							   </ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</header>
		<!-- Header area end -->

		<!-- Slider area start -->
		<div class="template-slider-area">
			<div class="slider-wrapper full-screen-slider">
				<div class="single-slider">
				  <p:graphicImage value="#{ShowCase.listUrgent[2].fileContentI}" styleClass="sliderImg" />
					<div class="container">
						<div class="row">
							<div class="col-md-9 col-lg-8 col-sm-9">
								<div class="slider-content text-left">
									<div class="slider-content-wrapper">
										<p>
											<span><h:outputText value="#{ShowCase.listUrgent[2].slogan}"
																style="margin-left:5px;" /></span>
										</p>
										<h1>
										<p:commandLink value="#{ShowCase.listUrgent[2].title}"
												action="detailCase.xhtml?faces-redirect=true">
												<f:setPropertyActionListener value="#{ShowCase.listUrgent[2]}"
													target="#{DetailCase.caseObject}" />
										</p:commandLink>
										</h1>

										<div class="progress-bar-area">
											<div class="single-progress-bar">
												<p>
													Collecté:<h:outputText value="#{ShowCase.getRes(ShowCase.listUrgent[2].id)}">
															<f:convertNumber minFractionDigits="0" />
														</h:outputText> DH <span class="project-goal">Objectif:
														<h:outputText value="#{ShowCase.listUrgent[2].cost}"
																style="margin-left:5px;" /> DH</span>
												</p>
												<div class="progress-bar-area">
														<div class="single-progress-bar">
															<div class="progress ">
																<div class="progress-bar wow fadeInLeft"
																	role="progressbar"
																	aria-valuenow="#{ShowCase.getRes(ShowCase.listUrgent[2].id)}"
																	aria-valuemin="0" aria-valuemax="200"
																	style="width: #{ShowCase.getRes(ShowCase.listUrgent[2].id)*100/ShowCase.listUrgent[2].cost}%; visibility: visible; animation-duration: 3s; animation-delay: .5s; ">
																	<span> <h:outputText
																			value="#{ShowCase.getRes(ShowCase.listUrgent[2].id)/ShowCase.listUrgent[2].cost}">
																			<f:convertNumber type="percent" />
																		</h:outputText>
																	</span>
																</div>
															</div>
														</div>
													</div>
											</div>
										</div>
											<h:form>
												<p:commandButton
														action="detailCase.xhtml?faces-redirect=true"
														value="voir plus" styleClass="btn btn-default">
														<f:setPropertyActionListener value="#{ShowCase.listUrgent[2]}"
															target="#{DetailCase.caseObject}" />
												</p:commandButton>
											</h:form>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="single-slider">
				  <p:graphicImage value="#{ShowCase.listUrgent[3].fileContentI}" styleClass="sliderImg" />
					<div class="container">
						<div class="row">
							<div class="col-md-9 col-lg-8 col-sm-9">
								<div class="slider-content text-left">
									<div class="slider-content-wrapper">
										<p>
											<span><h:outputText value="#{ShowCase.listUrgent[3].slogan}"
																style="margin-left:5px;" /></span>
										</p>
										<h1>
										<p:commandLink value="#{ShowCase.listUrgent[3].title}"
												action="detailCase.xhtml?faces-redirect=true">
												<f:setPropertyActionListener value="#{ShowCase.listUrgent[3]}"
													target="#{DetailCase.caseObject}" />
										</p:commandLink>
										</h1>

										<div class="progress-bar-area">
											<div class="single-progress-bar">
												<p>
													Collecté:<h:outputText value="#{ShowCase.getRes(ShowCase.listUrgent[3].id)}">
															<f:convertNumber minFractionDigits="0" />
														</h:outputText> DH <span class="project-goal">Objectif:
														<h:outputText value="#{ShowCase.listUrgent[3].cost}"
																style="margin-left:5px;" /> DH</span>
												</p>
												<div class="progress-bar-area">
														<div class="single-progress-bar">
															<div class="progress ">
																<div class="progress-bar wow fadeInLeft"
																	role="progressbar"
																	aria-valuenow="#{ShowCase.getRes(ShowCase.listUrgent[3].id)}"
																	aria-valuemin="0" aria-valuemax="200"
																	style="width: #{ShowCase.getRes(ShowCase.listUrgent[3].id)*100/ShowCase.listUrgent[3].cost}%; visibility: visible; animation-duration: 3s; animation-delay: .5s; ">
																	<span> <h:outputText
																			value="#{ShowCase.getRes(ShowCase.listUrgent[3].id)/ShowCase.listUrgent[3].cost}">
																			<f:convertNumber type="percent" />
																		</h:outputText>
																	</span>
																</div>
															</div>
														</div>
													</div>
											</div>
										</div>
											<h:form>
												<p:commandButton
														action="detailCase.xhtml?faces-redirect=true"
														value="voir plus" styleClass="btn btn-default">
														<f:setPropertyActionListener value="#{ShowCase.listUrgent[3]}"
															target="#{DetailCase.caseObject}" />
												</p:commandButton>
											</h:form>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="single-slider">
				  <p:graphicImage value="#{ShowCase.listUrgent[4].fileContentI}" styleClass="sliderImg" />
					<div class="container" >
						<div class="row">
							<div class="col-md-9 col-lg-8 col-sm-9">
								<div class="slider-content text-left">
									<div class="slider-content-wrapper">
										<p>
											<span><h:outputText value="#{ShowCase.listUrgent[4].slogan}"
																style="margin-left:5px;" /></span>
										</p>
										<h1>
										<p:commandLink value="#{ShowCase.listUrgent[4].title}"
												action="detailCase.xhtml?faces-redirect=true">
												<f:setPropertyActionListener value="#{ShowCase.listUrgent[4]}"
													target="#{DetailCase.caseObject}" />
										</p:commandLink>
										</h1>

										<div class="progress-bar-area">
											<div class="single-progress-bar">
												<p>
													Collecté:<h:outputText value="#{ShowCase.getRes(ShowCase.listUrgent[4].id)}">
															<f:convertNumber minFractionDigits="0" />
														</h:outputText> DH <span class="project-goal">Objectif:
														<h:outputText value="#{ShowCase.listUrgent[4].cost}"
																style="margin-left:5px;" /> DH</span>
												</p>
												<div class="progress-bar-area">
														<div class="single-progress-bar">
															<div class="progress ">
																<div class="progress-bar wow fadeInLeft"
																	role="progressbar"
																	aria-valuenow="#{ShowCase.getRes(ShowCase.listUrgent[4].id)}"
																	aria-valuemin="0" aria-valuemax="200"
																	style="width: #{ShowCase.getRes(ShowCase.listUrgent[4].id)*100/ShowCase.listUrgent[4].cost}%; visibility: visible; animation-duration: 3s; animation-delay: .5s; ">
																	<span> <h:outputText
																			value="#{ShowCase.getRes(ShowCase.listUrgent[4].id)/ShowCase.listUrgent[4].cost}">
																			<f:convertNumber type="percent" />
																		</h:outputText>
																	</span>
																</div>
															</div>
														</div>
													</div>
											</div>
										</div>
											<h:form>
												<p:commandButton
														action="detailCase.xhtml?faces-redirect=true"
														value="voir plus" styleClass="btn btn-default">
														<f:setPropertyActionListener value="#{ShowCase.listUrgent[4]}"
															target="#{DetailCase.caseObject}" />
												</p:commandButton>
											</h:form>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Slider area end -->
		<div id="donateurConn">
			<ui:insert name="donateurConn">
				<ui:include src="donateur.xhtml" />
			</ui:insert>
		</div>
		<!-- Page content area start -->
		<section class="content">
			<!-- Donet section start -->
			<div class="donet-section theme-section theme-section-ex-padding">
				<div class="container">
					<div class="row">
						<div class="col-md-12">
							<div class="area-heading text-center">
								<p:outputLabel styleClass="area-title" rendered="#{!ShowCase.rendered}">Cas Urgents</p:outputLabel>
								<p:outputLabel styleClass="area-title" rendered="#{ShowCase.rendered}">Cas près de vous</p:outputLabel>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">

							<div class="donate-feature-list navigation-style-1">
								<article class="single-event">


									<p:dataGrid var="urg" value="#{ShowCase.listProximite[0]}" columns="1"
										layout="grid" rows="1" paginator="false" id="urg"
										paginatorTemplate=" {PreviousPageLink} {NextPageLink}"
										>

										<div class="single-donet">
											<div class="donet-thumbnail">
												<p:graphicImage value="#{urg.fileContentI}" />
											</div>
											<div class="donet-content">
												<div class="donet-content-heading">
													<h3>
														<p:commandLink value="#{urg.title}"
												action="detailCase.xhtml?faces-redirect=true">
												<f:setPropertyActionListener value="#{urg}"
													target="#{DetailCase.caseObject}" />
											</p:commandLink>
													</h3>
													<ul class="event-meta">
														<li><i class="fa fa-map-marker"></i>
														<h:outputText value="#{urg.city}"
																style="margin-left:5px;" /></li>
														<li><i class="fa fa-calendar"></i>
														<h:outputText rendered="#{not empty ShowCase.listProximite[0].endDate}" value="#{ShowCase.daysBetween(ShowCase.listProximite[0].endDate)} J"
													style="margin-left:5px;" ></h:outputText>
														</li>
													</ul>
													<p>
														<h:outputText value="#{urg.description}"
															style="margin-left:5px;" />
													</p>
												</div>
												<div class="donet-bar">
													<p>
														Collecté :
														<h:outputText value="#{ShowCase.getRes(urg.id)}">
															<f:convertNumber minFractionDigits="0" />
														</h:outputText>
														DH<span class="project-goal"> Objectif : <h:outputText
																value="#{urg.cost}">
																<f:convertNumber minFractionDigits="0" />
															</h:outputText> DH
														</span>
													</p>
													<div class="progress-bar-area">
														<div class="single-progress-bar">
															<div class="progress ">
																<div class="progress-bar wow fadeInLeft"
																	role="progressbar"
																	aria-valuenow="#{ShowCase.getRes(urg.id)}"
																	aria-valuemin="0" aria-valuemax="200"
																	style="width: #{ShowCase.getRes(urg.id)*100/urg.cost}%; visibility: visible; animation-duration: 3s; animation-delay: .5s; ">
																	<span> <h:outputText
																			value="#{ShowCase.getRes(urg.id)/urg.cost}">
																			<f:convertNumber type="percent" />
																		</h:outputText>
																	</span>
																</div>
															</div>
														</div>
													</div>
												</div>
												<h:form>
													<p:commandButton
														action="detailCase.xhtml?faces-redirect=true"
														value="voir plus" styleClass="btn btn-default">
														<f:setPropertyActionListener value="#{urg}"
															target="#{DetailCase.caseObject}" />
													</p:commandButton>
												</h:form>
											</div>
										</div>
									</p:dataGrid>
								</article>
								<article class="single-event">
									<p:dataGrid var="urg1" value="#{ShowCase.listProximite[1]}" columns="1"
										layout="grid" rows="1" paginator="false" id="urg1"
										paginatorTemplate=" {PreviousPageLink} {NextPageLink}"
										>

										<div class="single-donet">
											<div class="donet-thumbnail">
												<p:graphicImage value="#{urg1.fileContentI}" />
											</div>
											<div class="donet-content">
												<div class="donet-content-heading">
													<h3>
											<p:commandLink value="#{urg1.title}"
												action="detailCase.xhtml?faces-redirect=true">
												<f:setPropertyActionListener value="#{urg1}"
													target="#{DetailCase.caseObject}" />
											</p:commandLink>
													</h3>
													<ul class="event-meta">
														<li><i class="fa fa-map-marker"></i>
														<h:outputText value="#{urg1.city}"
																style="margin-left:5px;" /></li>
														<li><i class="fa fa-calendar"></i>
														<h:outputText rendered="#{not empty ShowCase.listProximite[1].endDate}" value="#{ShowCase.daysBetween(ShowCase.listProximite[1].endDate)} J"
													style="margin-left:5px;" ></h:outputText>
														</li>
													</ul>
													<p>
														<h:outputText value="#{urg1.description}"
															style="margin-left:5px;" />
													</p>
												</div>
												<div class="donet-bar">
													<p>
														Collecté :
														<h:outputText value="#{ShowCase.getRes(urg1.id)}">
															<f:convertNumber minFractionDigits="0" />
														</h:outputText>
														DH<span class="project-goal"> Objectif : <h:outputText
																value="#{urg1.cost}">
																<f:convertNumber minFractionDigits="0" />
															</h:outputText> DH
														</span>
													</p>
													<div class="progress-bar-area">
														<div class="single-progress-bar">
															<div class="progress ">
																<div class="progress-bar wow fadeInLeft"
																	role="progressbar"
																	aria-valuenow="#{ShowCase.getRes(urg1.id)}"
																	aria-valuemin="0" aria-valuemax="200"
																	style="width: #{ShowCase.getRes(urg1.id)*100/urg1.cost}%; visibility: visible; animation-duration: 3s; animation-delay: .5s; ">
																	<span> <h:outputText
																			value="#{ShowCase.getRes(urg1.id)/urg1.cost}">
																			<f:convertNumber type="percent" />
																		</h:outputText>
																	</span>
																</div>
															</div>
														</div>
													</div>
												</div>
												<h:form>
													<p:commandButton
														action="detailCase.xhtml?faces-redirect=true"
														value="voir plus" styleClass="btn btn-default">
														<f:setPropertyActionListener value="#{urg1}"
															target="#{DetailCase.caseObject}" />
													</p:commandButton>
												</h:form>
											</div>
										</div>
									</p:dataGrid>
								</article>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Donet section end -->
			
			<!-- La selection start-->
	<div id="caseSelection">
		<ui:insert name="caseSelection">
			<ui:include src="caseSelection.xhtml" />
		</ui:insert>
	</div>
			<!-- La selection end-->
			
			<!-- Counter section start -->
			<div class="counter-section theme-section-2">
				<div class="container">
					<div class="row">
						<div class="col-md-4 col-sm-6 ">
							<div class="single-counter text-center ">
								<div class="counter-icon ">
									<i class="bi bi-love"></i>
								</div>
								<div class="counter-content ">
									<p class="counter "><h:outputText value="#{ShowCase.listeLength}"/></p>
									<h3>Cas exposés</h3>
								</div>
							</div>
						</div>
						<div class="col-md-4 col-sm-6 ">
							<div class="single-counter text-center ">
								<div class="counter-icon ">
									<i class="bi bi-group"></i>
								</div>
								<div class="counter-content ">
									<p class="counter "><h:outputText value="#{DonorBean.nbDonors()}"/></p>
									<h3>Honorables donateurs</h3>
								</div>
							</div>
						</div>
						<div class="col-md-4 col-sm-6 ">
							<div class="single-counter text-center ">
								<div class="counter-icon ">
									<i class="bi bi-like"></i>
								</div>
								<div class="counter-content ">
									<p class="counter "><h:outputText value="#{AssociationBean.lengthAssociations()}"/></p>
									<h3>Associations</h3>
								</div>
							</div>
						</div>
						
					</div>
				</div>
			</div>
			<!-- Counter section end -->
			<!-- sponsor area start -->
			<div class="sponsor-section theme-section-2 gray-bg">
				<div class="container">
					<div class="row">
						<div class="col-md-12">
							<div class="area-heading text-center">
								<h2 class="area-title">Nos sponsors</h2>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="sponsor-thumbnail-wrapper">
								<div class="single-sponsor-thumb">
									<img src="imgs/sponsor/index6.png" alt="" />
								</div>
								<div class="single-sponsor-thumb">
									<img src="imgs/sponsor/index7.png" alt="" />
								</div>
								<div class="single-sponsor-thumb">
									<img src="imgs/sponsor/index1.png" alt="" />
								</div>
								<div class="single-sponsor-thumb">
									<img src="imgs/sponsor/index9.png" alt="" />
								</div>
								<div class="single-sponsor-thumb">
									<img src="imgs/sponsor/index10.png" alt="" />
								</div>
								<div class="single-sponsor-thumb">
									<img src="imgs/sponsor/index11.png" alt="" />
								</div>
								<div class="single-sponsor-thumb">
									<img src="imgs/sponsor/index2.png" alt="" />
								</div>
								<div class="single-sponsor-thumb">
									<img src="imgs/sponsor/index3.png" alt="" />
								</div>
								<div class="single-sponsor-thumb">
									<img src="imgs/sponsor/index4.png" alt="" />
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- sponsor area end -->
			<!-- Call to action start -->
			<div class="call-to-action-section">
				<div class="container">
					<div class="row">
						<div class="col-md-12">
							<div class="call-to-action-content text-center">
								<h3 style="color:black">'</h3>
								<h2>Collaborons tous pour un avenir meilleur</h2>
								<a href="LoadCase.xhtml" class="btn btn-default">Joignez-nous</a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Call to action end -->
		</section>
		<!-- Page content area end -->
		<!-- Footer section start -->
		<ui:insert name="footer">
			<ui:include src="footer.xhtml" />
		</ui:insert>
		<!-- Footer section end -->
	</div>

</body>
</html>